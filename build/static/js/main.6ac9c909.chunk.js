(this["webpackJsonpreact-firebase-app"]=this["webpackJsonpreact-firebase-app"]||[]).push([[0],{23:function(e,t,a){e.exports=a(42)},29:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(21),l=a.n(s),c=(a(28),a(29),a(2)),i=a(3),o=a(5),m=a(4),u=a(12),d=a.n(u);a(30),a(32),a(34);d.a.initializeApp({apiKey:"AIzaSyBuSU7Hq-Myn2sopMMSouyI7OWLCU_b-V8",authDomain:"react-spa-66c62.firebaseapp.com",databaseURL:"https://react-spa-66c62.firebaseio.com",projectId:"react-spa-66c62",storageBucket:"react-spa-66c62.appspot.com",messagingSenderId:"883758846066",appId:"1:883758846066:web:c01c16ef734e8a5626b2eb",measurementId:"G-BKHXVFXVPS"});new d.a.auth.GoogleAuthProvider,new d.a.auth;var p=d.a,h=a(6),g=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-10 col-md-10 col-lg-8 col-xl-7"},r.a.createElement("div",{className:"display-4 text-primary mt-3 mb-2"},"Meeting Log"),r.a.createElement("p",{className:"lead"},"This simple app creates meetings, allows people to check in, and picks random users to award giveaways. It's a good example of a Single Page Application which includes connection to a database and routing. It's a practical way to learn ",r.a.createElement("a",{href:"https://reactjs.org/"},"React")," with ",r.a.createElement("a",{href:"https://firebase.google.com"},"Firebase"),"."),e?r.a.createElement(h.a,{to:"/meetings",className:"btn btn-primary"},"Meetings"):r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{to:"/register",className:"btn btn-outline-primary mr-2"},"Register"),r.a.createElement(h.a,{to:"/login",className:"btn btn-outline-primary mr-2"},"Log In")))))}}]),a}(n.Component),b=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userName,a=e.logOutUser;return r.a.createElement("div",{className:"text-center mt-4"},r.a.createElement("span",{className:"text-secondary font-weight-bold pl-1"},"Welcome ",t),",",r.a.createElement(h.a,{to:"/logout",className:"font-weight-bold text-primary pl-1",onClick:function(e){return a(e)}},"Log out"))}}]),a}(n.Component),f=a(8),v=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.logOutUser;return r.a.createElement("nav",{className:"site-nav family-sans navbar navbar-expand bg-primary navbar-dark higher"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement(h.a,{to:"/",className:"navbar-brand"},r.a.createElement(f.d,{className:"mr-1"})," Meeting Log"),r.a.createElement("div",{className:"navbar-nav ml-auto"},t&&r.a.createElement(h.a,{className:"nav-item nav-link",to:"/meetings"},"Meetings"),!t&&r.a.createElement(h.a,{className:"nav-item nav-link",to:"/login"},"Log in"),!t&&r.a.createElement(h.a,{className:"nav-item nav-link",to:"/register"},"Register"),t&&r.a.createElement(h.a,{className:"nav-item nav-link",to:"/login",onClick:function(e){return a(e)}},"Log out"))))}}]),a}(n.Component),E=a(7),N=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.message;return r.a.createElement("div",{className:"col-12 alert alert-danger px-3"},e)}}]),a}(n.Component),y=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(E.a)({},a,n))},e.handleSubmit=function(t){var a={email:e.state.email,password:e.state.password};t.preventDefault(),p.auth().signInWithEmailAndPassword(a.email,a.password).then((function(){Object(h.c)("./meetings")})).catch((function(t){null!==t.message?e.setState({errorMessage:t.message}):e.setState({errorMessage:null})}))},e.state={displayName:"",email:"",password:"",errorMessage:null},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:"mt-3",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",{className:"card bg-light"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"font-weight-light mb-3"},"Log in"),r.a.createElement("section",{className:"form-group"},this.state.errorMessage?r.a.createElement(N,{message:this.state.errorMessage}):"",r.a.createElement("label",{className:"form-control-label sr-only",htmlFor:"Email"},"Email"),r.a.createElement("input",{required:!0,className:"form-control",type:"email",id:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.handleChange})),r.a.createElement("section",{className:"form-group"},r.a.createElement("input",{required:!0,className:"form-control",type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group text-right mb-0"},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Log in"))))))))}}]),a}(n.Component),O=a(9),j=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).deleteMeeting=function(t,a){t.preventDefault(),p.database().ref("meetings/".concat(e.props.userID,"/").concat(a)).remove()},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.meetings.map((function(t){return r.a.createElement("div",null,r.a.createElement("div",{className:"list-group-item d-flex",key:t.meetingId},r.a.createElement("section",{className:"btn-group align-self-center",role:"group","aria-label":"Meeting Options"},r.a.createElement("button",{className:"btn btn-sm btn-outline-secondary",title:"Delete Meeting",onClick:function(a){return e.deleteMeeting(a,t.meetingId)}},r.a.createElement(O.d,null)),r.a.createElement("button",{className:"btn btn-sm btn-outline-secondary",title:"Check In",onClick:function(){return Object(h.c)("/checkin/".concat(e.props.userID,"/").concat(t.meetingId))}},r.a.createElement(f.a,null)),r.a.createElement("button",{className:"btn btn-sm btn-outline-secondary",title:"Meetings List",onClick:function(){return Object(h.c)("/attendees/".concat(e.props.userID,"/").concat(t.meetingId))}},r.a.createElement(O.a,null))),r.a.createElement("section",{className:"pl-3 text-left align-self-center"},t.meetingName)))}));return r.a.createElement("div",null,t)}}]),a}(n.Component),w=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(E.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault(),e.props.addMeeting(e.state.meetingName),e.setState({meetingName:""})},e.state={meetingName:""},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-4"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-8 text-center"},r.a.createElement("h1",{className:"font-weight-light"},"Add a Meeting"),r.a.createElement("div",{className:"card bg-light"},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"formgroup"},r.a.createElement("div",{className:"input-group input-group-lg"},r.a.createElement("input",{type:"text",className:"form-control",name:"meetingName",placeholder:"Meeting name","aria-describedby":"buttonAdd",value:this.state.meetingName,onChange:this.handleChange}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{type:"submit",className:"btn btn-sm btn-info",id:"buttonAdd"},"+"))))))),r.a.createElement("div",{className:"col-11 col-md-6 text-center"},r.a.createElement("div",{className:"card border-top-0 rounded-0"},this.props.meetings&&this.props.meetings.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-body py-2"},r.a.createElement("h4",{className:"card-title font-weight-light m-0"},"Your Meetings")),r.a.createElement("div",{className:"list-group list-group-flush"},r.a.createElement(j,{userID:this.props.userID,meetings:this.props.meetings}))):null))))}}]),a}(n.Component),C=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(E.a)({},a,n),(function(){e.state.passOne!==e.state.passTwo?e.setState({errorMessage:"Passwords do not match"}):e.setState({errorMessage:null})}))},e.handleSubmit=function(t){var a={displayName:e.state.displayName,email:e.state.email,password:e.state.passOne};t.preventDefault(),p.auth().createUserWithEmailAndPassword(a.email,a.password).then((function(){e.props.regInfo(a.displayName)})).catch((function(t){null!==t.message?e.setState({errorMessage:t.message}):e.setState({errorMessage:null})}))},e.state={displayName:"",email:"",passOne:"",passTwo:"",errorMessage:null},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:"mt-3",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-8"},r.a.createElement("div",{className:"card bg-light"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"font-weight-light mb-3"},"Register"),r.a.createElement("div",{className:"form-row"},this.state.errorMessage?r.a.createElement(N,{message:this.state.errorMessage}):"",r.a.createElement("section",{className:"col-sm-12 form-group"},r.a.createElement("label",{className:"form-control-label sr-only",htmlFor:"displayName"},"Display Name"),r.a.createElement("input",{className:"form-control",type:"text",id:"displayName",placeholder:"Display Name",name:"displayName",required:!0,value:this.state.displayName,onChange:this.handleChange}))),r.a.createElement("section",{className:"form-group"},r.a.createElement("label",{className:"form-control-label sr-only",htmlFor:"email"},"Email"),r.a.createElement("input",{className:"form-control",type:"email",id:"email",placeholder:"Email Address",required:!0,value:this.state.email,onChange:this.handleChange,name:"email"})),r.a.createElement("div",{className:"form-row"},r.a.createElement("section",{className:"col-sm-6 form-group"},r.a.createElement("input",{className:"form-control",type:"password",name:"passOne",placeholder:"Password",value:this.state.passOne,onChange:this.handleChange})),r.a.createElement("section",{className:"col-sm-6 form-group"},r.a.createElement("input",{className:"form-control",type:"password",required:!0,value:this.state.passTwo,onChange:this.handleChange,name:"passTwo",placeholder:"Repeat Password"}))),r.a.createElement("div",{className:"form-group text-right mb-0"},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Register"))))))))}}]),a}(n.Component),I=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(E.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault(),p.database().ref("meetings/".concat(e.props.userID,"/").concat(e.props.meetingID,"/attendees")).push({attendeeName:e.state.displayName,attendeeEmail:e.state.email,star:!1}),Object(h.c)("/attendees/".concat(e.props.userID,"/").concat(e.props.meetingID))},e.state={displayName:"",email:""},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:"mt-3",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",{className:"card bg-light"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"font-weight-light mb-3"},"Check in"),r.a.createElement("section",{className:"form-group"},r.a.createElement("label",{className:"form-control-label sr-only",htmlFor:"displayName"},"Name"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",id:"displayName",name:"displayName",placeholder:"Name",value:this.state.displayName,onChange:this.handleChange})),r.a.createElement("section",{className:"form-group"},r.a.createElement("label",{className:"form-control-label sr-only",htmlFor:"Email"},"Email"),r.a.createElement("input",{required:!0,className:"form-control",type:"email",id:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group text-right mb-0"},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Check in"))))))))}}]),a}(n.Component),D=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).deleteMeeting=function(t,a){t.preventDefault(),p.database().ref("meetings/".concat(e.props.userID,"/").concat(a)).remove()},e.deleteAttendee=function(t,a,n){t.preventDefault();var r=e.props.adminUser;p.database().ref("meetings/".concat(r,"/").concat(a,"/attendees/").concat(n)).remove()},e.toggleStar=function(t,a,n,r){t.preventDefault();var s=e.props.adminUser,l=p.database().ref("meetings/".concat(s,"/").concat(n,"/attendees/").concat(r,"/star"));void 0===a?l.set(!0):l.set(!a)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.adminUser===this.props.userID,a=this.props.attendees.map((function(a){return r.a.createElement("div",{className:"col-8 col-sm-6 col-md-4 col-lg-3 mb-2 p-0 px-1",key:a.attendeeID},r.a.createElement("div",{className:"card "},r.a.createElement("div",{className:"card-body px-3 py-2 d-flex align-items-center "},t&&r.a.createElement("div",{className:"btn-group pr-2"},r.a.createElement("button",{className:"btn btn-sm "+(a.star?"btn-info":"btn-outline-secondary"),title:"Star the user",onClick:function(t){return e.toggleStar(t,a.star,e.props.meetingID,a.attendeeID)}},r.a.createElement(O.c,null)),r.a.createElement("a",{href:"mailto:".concat(a.attendeeEmail),className:"btn btn-sm btn-outline-secondary",title:"Mail Attendee"},r.a.createElement(O.b,null)),r.a.createElement("button",{className:"btn btn-sm btn-outline-secondary",title:"Delete Attendee",onClick:function(t){return e.deleteAttendee(t,e.props.meetingID,a.attendeeID)}},r.a.createElement(O.d,null))),r.a.createElement("div",null,a.attendeeName))))}));return r.a.createElement("div",{className:"row justify-content-center"},a)}}]),a}(n.Component),S=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(E.a)({},t,a))},n.resetQuery=function(){n.setState({searchQuery:"",displayAttendees:n.state.allAttendees})},n.randomAttendee=function(){var e=Math.floor(Math.random()*n.state.allAttendees.length);n.resetQuery(),n.setState({displayAttendees:[n.state.allAttendees[e]]})},n.state={displayAttendees:[],allAttendees:[],searchQuery:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.database().ref("meetings/".concat(this.props.userID,"/").concat(this.props.meetingID,"/attendees")).on("value",(function(t){var a=t.val(),n=[];for(var r in a)n.push({attendeeID:r,attendeeName:a[r].attendeeName,attendeeEmail:a[r].attendeeEmail,star:a[r].star});e.setState({displayAttendees:n,allAttendees:n})}))}},{key:"render",value:function(){var e=this,t=this.state.displayAttendees.filter((function(t){return t.attendeeName.toLowerCase().match(e.state.searchQuery.toLowerCase())&&!0}));return r.a.createElement("div",{className:"container mt-4"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h1",{className:"font-weight-light text-center"},"Attendees"),r.a.createElement("div",{className:"card bg-light mb-4"},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("div",{className:"input-group input-group-lg"},r.a.createElement("input",{type:"text",name:"searchQuery",value:this.state.searchQuery,placeholder:"Search Attendees",className:"form-control",onChange:this.handleChange}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-sm btn-outline-info",title:"Reset Search",onClick:function(){return e.resetQuery()}},r.a.createElement(f.c,null)),r.a.createElement("button",{className:"btn btn-sm btn-outline-info",title:"Random Attendee",onClick:function(){return e.randomAttendee()}},r.a.createElement(f.b,null)))))))),r.a.createElement(D,{userID:this.props.userID,adminUser:this.props.adminUser,attendees:t,meetingID:this.props.meetingID}))}}]),a}(n.Component),k=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleReg=function(t){p.auth().onAuthStateChanged((function(a){a.updateProfile({displayName:t}).then((function(){e.setState({user:a,displayName:a.displayName,userID:a.uid}),Object(h.c)("/meetings")}))}))},e.logOutUser=function(t){t.preventDefault(),e.setState({userID:null,user:null,displayName:null}),p.auth().signOut().then((function(){Object(h.c)("/login")}))},e.addMeeting=function(t){p.database().ref("meetings/".concat(e.state.user.uid)).push({meetingName:t})},e.state={user:null,displayName:null,userID:null},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.auth().onAuthStateChanged((function(t){t?(e.setState({user:t,displayName:t.displayName,userID:t.uid}),p.database().ref("meetings/"+t.uid).on("value",(function(t){var a=t.val(),n=[];for(var r in a)n.push({meetingId:r,meetingName:a[r].meetingName});e.setState({meetings:n,totalMeetings:n.length})}))):e.setState({user:null})}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{user:this.state.user,logOutUser:this.logOutUser}),this.state.user&&r.a.createElement(b,{userName:this.state.displayName,logOutUser:this.logOutUser}),r.a.createElement(h.b,null,r.a.createElement(g,{path:"/",user:this.state.user}),r.a.createElement(y,{path:"/login"}),r.a.createElement(w,{path:"/meetings",meetings:this.state.meetings,userID:this.state.userID,addMeeting:this.addMeeting}),r.a.createElement(C,{regInfo:this.handleReg,path:"/register"}),r.a.createElement(I,{path:"/checkin/:userID/:meetingID"}),r.a.createElement(S,{path:"/attendees/:userID/:meetingID",adminUser:this.state.userID})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.6ac9c909.chunk.js.map